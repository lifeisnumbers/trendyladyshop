(function(e){function t(t){for(var s,o,r=t[0],c=t[1],d=t[2],l=0,p=[];l<r.length;l++)o=r[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(p.length)p.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={settings:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var u=c;a.push([4,"chunk-vendors","chunk-common"]),n()})({2884:function(e,t,n){"use strict";n.r(t);var s=n("a026"),i=n("8c4f"),a=n("f9d5"),o=n.n(a),r=n("003c"),c=n("c0cc"),d=n("918d"),u=n("0eb0"),l=n("af2a"),p=n("0486"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-feedback"},[t("user-feedback-notices"),t("user-feedback-admin-header",{attrs:{logo:e.headerLogo},scopedSlots:e._u([{key:"header-end",fn:function(){return[t("user-feedback-notifications-toggle")]},proxy:!0}])}),e._t("default"),t("router-view"),t("user-feedback-notifications")],2)},h=[],b=n("53ad"),g=n("3e90"),m=n("3e71");const y=document.querySelector('[href*="userfeedback_settings#/about"]'),k=document.querySelector('[href*="userfeedback_settings#/addons"]');var v={name:"UserFeedbackSettings",components:{UserFeedbackNotifications:b["a"],UserFeedbackNotificationsToggle:g["a"],UserFeedbackNotices:m["a"]},computed:{headerLogo(){return this.$uf.assets+"/img/user-feedback-logo-full.svg"}},methods:{handleRouteChange(){const e=this.$route,t=e.path.includes("about"),n=e.path.includes("addons"),s=document.querySelector("#toplevel_page_userfeedback_surveys .wp-submenu li.current");t&&y?(s.classList.remove("current"),y.closest("li").classList.add("current")):n&&k&&(s.classList.remove("current"),k.closest("li").classList.add("current"))}},watch:{$route(){this.handleRouteChange()}},created(){this.handleRouteChange()}},w=v,_=n("2877"),S=Object(_["a"])(w,f,h,!1,null,null,null),O=S.exports,j=(n("459b"),n("2f62")),L=n("ab89");const x={namespaced:!0,state:()=>({isSaving:!1,pluginSettings:{}}),mutations:{setSettings(e,t){e.pluginSettings=t},updateSetting(e,{key:t,value:n}){e.pluginSettings={...e.pluginSettings,[t]:n}},setIsSaving(e,t){e.isSaving=t}},actions:{async fetchSettings({commit:e}){const t=await Object(L["b"])();e("setSettings",t)},async saveSettings({state:e,commit:t}){t("setIsSaving",!0),await Object(L["d"])(e.pluginSettings),t("setIsSaving",!1)}}};var P=n("561c"),A=n("dfa4");const $={namespaced:!0,state:()=>({loaded:!1,license:{key:"",type:"",is_expired:!1,is_disabled:!1,is_invalid:!0},networkLicense:{key:"",type:"",is_expired:!1,is_disabled:!1,is_invalid:!0}}),getters:{license:e=>e.license},mutations:{updateSiteLicense(e,t){e.license=t,e.loaded=!0},updateNetworkLicense(e,t){e.networkLicense=t,e.loaded=!0},updateLicenseKey(e,t){e.license.key=t}},actions:{getLicense({commit:e,dispatch:t}){return Object(A["b"])().then(n=>{n.network&&e("updateNetworkLicense",n.network),n.site&&e("updateSiteLicense",n.site),t("maybeAddLicenseNotices")})},verifyLicense({commit:e,dispatch:t},n){return e("updateLicenseKey",n),Object(A["e"])(n).then(e=>(e.success&&(t("getLicense"),t("addons/fetchAddons",null,{root:!0})),e))},deactivateLicense({commit:e,dispatch:t},n){return Object(A["a"])(n).then(e=>(e.success&&t("getLicense"),e))},validateLicense({dispatch:e},t){return Object(A["d"])(t).then(t=>(e("addons/fetchAddons",null,{root:!0}),t))},maybeAddLicenseNotices({state:e,commit:t}){e.license.is_expired||e.networkLicense.is_expired?t("addNotice",{id:"license_expired",content:Object(P["d"])(Object(P["a"])("Your license key for UserFeedback has expired. %1$sPlease click here to renew your license key.%2$s",s["a"].prototype.$textDomain),'<a target="blank" href="'+s["a"].prototype.$getUrl("admin-notices","expired-license","https://www.userfeedback.com/login/")+'">',"</a>"),type:"error"},{root:!0}):e.license.is_disabled||e.networkLicense.is_disabled?t("addNotice",{id:"license_disabled",content:Object(P["a"])("Your license key for UserFeedback has been disabled. Please use a different key.",s["a"].prototype.$textDomain),type:"error"},{root:!0}):(e.license.is_invalid||e.networkLicense.is_invalid)&&t("addNotice",{id:"license_invalid",content:Object(P["a"])("Your license key for UserFeedback is invalid. The key no longer exists or the user associated with the key has been deleted. Please use a different key.",s["a"].prototype.$textDomain),type:"error"},{root:!0})}}};var N=n("763a");const U={namespaced:!0,state:()=>({addons:{},plugins:{}}),getters:{},mutations:{updateAddons(e,t){e.addons=t},updatePlugins(e,t){e.plugins=t}},actions:{fetchAddons({commit:e}){return Object(N["c"])().then(t=>(e("updateAddons",t),t))},fetchPlugins({commit:e}){return Object(L["a"])().then(t=>{e("updatePlugins",t)})},installAddon({dispatch:e},t){return Object(N["d"])(t).then(t=>(e("fetchAddons"),t))},installPlugin({dispatch:e},t){return Object(L["c"])(t).then(t=>(e("fetchPlugins"),t))},activateAddon({dispatch:e},{addon:t,isAddon:n=!1}){return Object(N["a"])(t).then(t=>(e(n?"fetchAddons":"fetchPlugins"),t))},deactivateAddon({dispatch:e},{addon:t,isAddon:n=!1}){return Object(N["b"])(t).then(t=>(e(n?"fetchAddons":"fetchPlugins"),t))}}};s["a"].use(j["a"]);const F=new j["a"].Store({modules:{config:x,license:$,addons:U}});var T=n("5943");(()=>{const e=document.getElementById("userfeedback-settings");e&&(s["a"].use(i["a"]),s["a"].use(r["a"],{themes:{uf:{$extend:"tooltip",autoHide:!0,hideTriggers:["click"]}}}),s["a"].use(c["a"],{componentPrefix:"UserFeedback",classPrefix:"user-feedback"}),window.userfeedback_addons&&window.userfeedback_addons.forEach(e=>{s["a"].use(e)}),s["a"].use(d["a"],{store:F}),s["a"].use(l["a"],{store:F}),s["a"].use(p["a"],{store:F}),s["a"].use(o.a),s["a"].use(u["a"]),new s["a"]({router:T["router"],store:F,mounted(){this.$store.dispatch("config/fetchSettings"),this.$store.dispatch("license/getLicense")},render:e=>e(O)}).$mount(e))})()},4:function(e,t,n){e.exports=n("2884")},"459b":function(e,t,n){}});